(this.webpackJsonpreact_music_app=this.webpackJsonpreact_music_app||[]).push([[0],[,,,,,,function(e,t,n){e.exports={Audio:"_3kddrEr9eQrp8Bbhu04oMK",button:"_1YUppFQFfrDwAg-SDfJU44",pre:"_1gvinszxpdfy2CAyYBUBcZ",primary:"UfgGNk6UCuRhOYpamlSvt",stop:"_2xUuD-TZoUahA6SkxKatCI",play:"_3O0t7e1fASk6selikXshNY",next:"npj-R26wR2KMXAygIMBFJ",progress:"w5L-E11sL3CFbc_xgUlFq","progress-nav":"_2crHrdHFo2nbLcCYl8_BMf"}},,function(e,t,n){e.exports={record:"Vb05NgQOVcZamCRS2q7Dm",borderOut:"_2znwDifPDb_A8_cvg3SSyM",loop:"h2xBQve68AWMjQYMK-UKf",active:"_2UKSoFHNBVOBND27ljVj7h",needle:"_2vCrmgG-_7lxEMY2fQ6iSO",needleActive:"_1UOmzhbdnvn3w4Z3HCeFlf"}},function(e,t,n){e.exports={aside:"_19ZR-yNbBLmK4x19fdReYn",navHidden:"_2K4us7740BF6ZeyaGqIc6A",nav:"_3AWkIaFoTyzHXrW5qBmlAn"}},function(e,t,n){e.exports={section:"G5G7UCreNKFTIwZOsq3Fg",content:"PD7Caex5cAs4VCYj687P6",bg:"_3YnfvGT8VlQfpPJp0JfZPm"}},function(e,t,n){e.exports={content:"c2W3_nIYgNyH3-V3bY-nF"}},,,function(e,t,n){e.exports={footer:"_2dyxGjSxAZqBfDuuf1rC1H"}},function(e,t,n){e.exports={header:"_1qRCLpECKMDpEsNLY3-hEb"}},function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t){function n(){var e=document.documentElement.clientWidth||document.body.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=e/7.5+"px"}n(),window.onresize=function(){n()}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),u=(n(21),n(1)),i=n(2),s=n(5),l=n(3),d=n(4),m=n(11),f=n.n(m),h=n(7),v=n(9),g=n.n(v),p=a.a.createContext({record:{},toggleTheme:function(){}}),b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).toggle=n.toggle.bind(Object(h.a)(n)),n.state={navShow:!0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"".concat(g.a.aside," ").concat(this.state.navShow?"":g.a.navHidden)},a.a.createElement("div",{className:g.a.nav,onClick:this.toggle}),a.a.createElement("ul",null,a.a.createElement(p.Consumer,null,(function(e){return e.record.records.map((function(t,n){return a.a.createElement("li",{key:n},a.a.createElement("img",{src:t.img,onClick:function(t){return e.change(n,t)}}))}))}))))}},{key:"toggle",value:function(){this.setState({navShow:!this.state.navShow})}}]),t}(a.a.Component),E=n(14),j=n.n(E),y=n(6),O=n.n(y),x=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={audioRef:a.a.createRef(),auido:{duration:0,currentTime:0,percentage:"0%"}},n.changeProgress=n.changeProgress.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){return a.a.createElement("div",{className:O.a.Audio},a.a.createElement("div",{className:O.a.button},a.a.createElement("span",{className:O.a.pre,onClick:function(n){return e.change(t.pre)}}),a.a.createElement("span",{className:"".concat(t.currentActive?O.a.stop:O.a.play," ").concat(O.a.primary),onClick:function(n){return e.play(t.acitveChange)}}),a.a.createElement("span",{className:O.a.next,onClick:function(n){return e.change(t.next)}})),a.a.createElement("var",null,e.secondToDate(e.state.auido.currentTime)),a.a.createElement("div",{className:O.a.progress,onClick:function(n){return e.changeProgress(t.acitveChange,n)}},a.a.createElement("span",{style:{width:e.state.auido.percentage},className:O.a["progress-nav"]})),a.a.createElement("var",null,e.secondToDate(e.state.auido.duration)),a.a.createElement("audio",{src:t.currentReord.href,ref:e.state.audioRef,autoPlay:!0}))}))}},{key:"change",value:function(e){e(),this.setState({auido:{duration:0,currentTime:0,percentage:"0%"}})}},{key:"secondToDate",value:function(e){if(!e)return"";var t=Math.floor(e/3600)<10?"0"+Math.floor(e/3600):Math.floor(e/3600);return t&&"00"!==t?t+=":":t="",t+(Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60))+":"+(Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60))}},{key:"changeProgress",value:function(e,t){if(!this.state.audioRef.current.paused){var n=t.nativeEvent,r=n.target.offsetWidth;"SPAN"===n.target.tagName&&(r=n.target.parentNode.offsetWidth);var a=(n.offsetX||n.offsetX)/r;this.state.audioRef.current.currentTime=parseInt(a*this.state.audioRef.current.duration),this.setState({auido:{duration:this.state.audioRef.current.duration,currentTime:this.state.audioRef.current.currentTime,percentage:this.state.audioRef.current.currentTime/this.state.audioRef.current.duration*100+"%"}})}}},{key:"play",value:function(e){var t=this;e(),setTimeout((function(){t.state.audioRef.current.paused?t.state.audioRef.current.play():t.state.audioRef.current.pause()}),0)}},{key:"changeState",value:function(){this.setState({auido:{duration:this.state.audioRef.current.duration,currentTime:this.state.audioRef.current.currentTime,percentage:this.state.audioRef.current.currentTime/this.state.audioRef.current.duration*100+"%"}})}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.changeState()}),200)}}]),t}(a.a.Component),R=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:j.a.footer},a.a.createElement(x,null))}}]),t}(a.a.Component),C=n(10),N=n.n(C),k=n(8),A=n.n(k);var S=function(){return a.a.createElement(p.Consumer,null,(function(e){return a.a.createElement("div",{className:A.a.record},a.a.createElement("div",{className:"".concat(A.a.needle," ").concat(e.currentActive?A.a.needleActive:"")},a.a.createElement("img",{src:"./image.svg"})),a.a.createElement("div",{className:"".concat(A.a.borderOut,"  ").concat(e.currentActive?A.a.active:"")},a.a.createElement("img",{src:e.currentReord.img})))}))};var _=function(){return a.a.createElement("div",{className:N.a.section},a.a.createElement(p.Consumer,null,(function(e){return a.a.createElement("div",{className:N.a.bg,style:{backgroundImage:"url('".concat(e.currentReord.img,"')")}})})),a.a.createElement("div",{className:N.a.content},a.a.createElement(S,null)))},I=n(15),w=n.n(I),T=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:w.a.header},"YIYI\u4e91\u97f3\u4e50")}}]),t}(a.a.Component),M=function(e){function t(e){var n;Object(u.a)(this,t);var r={records:[{img:"./cover/109951163076302925.jpg",href:"http://music.163.com/song/media/outer/url?id=5257138.mp3"},{img:"./cover/109951164274343764.jpg",href:"http://music.163.com/song/media/outer/url?id=176746.mp3"},{img:"./cover/109951163240682406.jpg",href:"http://music.163.com/song/media/outer/url?id=4875306.mp3"}]};return(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={record:r,currentReord:Object.assign({},r.records[0],{href:""}),currentIndex:0,currentActive:!1,change:function(e){n.setState((function(t){return{currentIndex:e,currentReord:t.record.records[e],currentActive:!0}}))},acitveChange:function(){n.setState((function(e){return{currentReord:Object.assign(e.currentReord,e.record.records[e.currentIndex]),currentActive:!e.currentActive}}))},next:function(){n.setState((function(e){return e.record.records.length-1>e.currentIndex?{currentIndex:e.currentIndex+1,currentReord:e.record.records[e.currentIndex+1],currentActive:!0}:{currentIndex:0,currentReord:e.record.records[0],currentActive:!0}}))},pre:function(){n.setState((function(e){return e.currentIndex>0?{currentIndex:e.currentIndex-1,currentReord:e.record.records[e.currentIndex-1],currentActive:!0}:{currentIndex:e.record.records.length-1,currentReord:e.record.records[e.record.records.length-1],currentActive:!0}}))}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:f.a.app},a.a.createElement(p.Provider,{value:this.state},a.a.createElement(T,null),a.a.createElement("div",{className:f.a.content},a.a.createElement(b,null),a.a.createElement(_,null)),a.a.createElement(R,null)))}}]),t}(a.a.Component);n(22),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[16,1,2]]]);
//# sourceMappingURL=main.9e9ac795.chunk.js.map